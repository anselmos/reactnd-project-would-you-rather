(this["webpackJsonpwould-you-rather-app"]=this["webpackJsonpwould-you-rather-app"]||[]).push([[0],{60:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),i=n(23),s=n.n(i),a=(n(60),n(39)),c=n.n(a),u=n(30),j=n(31),d=n(34),l=n(33),h=n(47),b=n(10),p=(n(62),n(63),n(12)),O="AUTH_USER";function v(e){return{type:O,user:e}}var x=n(91),f=n(92),m=n(93),g=n(100),y=n(102),w=n(1);var q=Object(b.i)(Object(p.b)((function(e){return{auth_user:e.auth_user}}))((function(e){var t=e.auth_user,n=e.history,o=e.dispatch;return Object(w.jsx)(x.a,{color:"inherit",position:"static",children:Object(w.jsxs)(f.a,{children:[Object(w.jsx)(m.a,{variant:"h6",children:"Would you rather ... ?"}),Object(w.jsx)(g.a,{color:"primary",onClick:function(e){e.push("/")}.bind(this,n),children:"Home"}),Object(w.jsx)(g.a,{color:"primary",onClick:function(e){e.push("/add")}.bind(this,n),children:"New Question"}),Object(w.jsx)(g.a,{color:"primary",onClick:function(e){e.push("/leaderboard")}.bind(this,n),children:"Leader Board"}),t?Object(w.jsxs)("div",{children:[Object(w.jsx)(y.a,{src:t.avatarURL,alt:t.name}),t.name,Object(w.jsx)(g.a,{color:"primary",onClick:function(e){o(v(null)),e.push("/logout")}.bind(this,n),children:"Logout"})]}):Object(w.jsx)(g.a,{color:"primary",onClick:function(e){e.push("/login")}.bind(this,n),children:"Login"})]})})}))),_="ADD_QUESTION",T="VOTE_QUESTION";function k(e){return{type:_,question:e}}var C=n(17),E=n(8),S=n.p+"static/media/sarah.54c90b0e.jpg",N=n.p+"static/media/john.908d1a61.jpg",U={sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:S,answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionTwo",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:n.p+"static/media/tyler.e97a69c8.jpg",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:N,answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionTwo"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}},z={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["johndoe","sarahedo"],text:"become a supervillain"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};function L(){return new Promise((function(e,t){setTimeout((function(){return e(Object(E.a)({},U))}),1e3)}))}function P(){return new Promise((function(e,t){setTimeout((function(){return e(Object(E.a)({},z))}),1e3)}))}function R(e){var t=e.optionOneText,n=e.optionTwoText,o=e.author;return{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),timestamp:Date.now(),author:o,optionOne:{votes:[],text:t},optionTwo:{votes:[],text:n}}}var I="VOTE_USER",D="QUESTION_USER";function V(e,t){return{type:D,user:e,question:t}}var A=n(71),Q=n(94),M=n(101),F=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).addItem=function(t){t.preventDefault();var n=e.option1.value;e.option1.value="";var o=e.option2.value;e.option2.value="";var r=R({optionOneText:n,optionTwoText:o,author:e.props.auth_user.id});e.props.dispatch(k(r)),e.props.dispatch(V(e.props.auth_user,r))},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return null===this.props.auth_user?Object(w.jsx)("div",{children:"Please log in!"}):Object(w.jsxs)("div",{children:[Object(w.jsx)(A.a,{className:"new-question-title",children:"Create New Question"}),Object(w.jsxs)(Q.a,{children:[Object(w.jsx)(A.a,{className:"new-question-would-you-rather",children:"Would you rather ..."}),Object(w.jsx)(M.a,{type:"text",placeholder:"Enter option one text here",ref:function(t){return e.option1=t}}),Object(w.jsx)(A.a,{className:"new-question-or",children:"OR"}),Object(w.jsx)(M.a,{type:"text",placeholder:"Enter option two text here",ref:function(t){return e.option2=t}})]}),Object(w.jsx)(g.a,{className:"new-question-submit",onClick:this.addItem,children:"Submit"})]})}}]),n}(r.a.Component);var J=Object(p.b)((function(e){return{auth_user:e.auth_user}}))(F),B="RECEIVE_DATA";function W(e,t){return{type:B,users:e,questions:t}}var H=Object(p.b)((function(e){return{users:e.users,questions:e.questions,auth_user:e.auth_user}}))((function(e){var t=this,n=e.path_no_login,o=e.users,r=e.dispatch,i=Object(b.f)(),s=function(e){r(v(e)),i.push(n||"/")},a=null;if(null!==o){var c=Object.keys(o).map((function(e){return Object(w.jsx)("div",{children:Object(w.jsxs)(g.a,{onClick:s.bind(t,o[e]),children:["Login as ",o[e].name,Object(w.jsx)(y.a,{src:o[e].avatarURL,alt:o[e].name})]})},e)}));a=Object(w.jsxs)("div",{children:[Object(w.jsx)("h1",{children:"Users:"}),c]})}return Object(w.jsx)("div",{children:a})})),X=n(19),$=n(96),G=n(95);var K=Object(p.b)()((function(e){var t=e.users,n=e.question,o=e.user,r=e.voteCallback,i=e.dispatch,s=Object(b.f)(),a=n.optionOne.votes.includes(o.id)?n.optionOne:n.optionTwo.votes.includes(o.id)?n.optionTwo:null,c=Object(w.jsx)("div",{children:Object(w.jsx)("img",{src:t[n.author].avatarURL,width:"100",height:"100",alt:t[n.author].name})}),u=0,j=0;return null!==a&&(u=a.votes.length,j=Math.round(a.votes.length/(n.optionOne.votes.length+n.optionTwo.votes.length)*100*10/10).toString()+"%"),Object(w.jsxs)(G.a,{children:[Object(w.jsx)($.a,{children:Object(w.jsx)(g.a,{color:"primary",onClick:function(){s.push("/questions/"+n.id)},children:n.id})}),Object(w.jsx)($.a,{children:c}),Object(w.jsxs)($.a,{style:{backgroundColor:null!==a&&a===n.optionOne?"green":""},children:[n.optionOne.text,a?"":Object(w.jsxs)(g.a,{color:"secondary",onClick:r.bind(this,o,1,n,i),children:["Vote"," "]})]}),Object(w.jsxs)($.a,{style:{backgroundColor:null!==a&&a===n.optionTwo?"green":""},children:[n.optionTwo.text,a?"":Object(w.jsxs)(g.a,{color:"secondary",onClick:r.bind(this,o,2,n,i),children:["Vote"," "]})]}),Object(w.jsx)($.a,{children:a?u:"N/A"}),Object(w.jsx)($.a,{children:a?j:"N/A"})]},n.id)}));function Y(e){return e&&e.name}var Z=n(97),ee=n(99),te=n(98);function ne(e,t){var n=Object(X.a)(e,2),o=(n[0],n[1]),r=Object(X.a)(t,2);r[0];return r[1].timestamp-o.timestamp}function oe(e,t,n,o){o(function(e,t,n){return{type:T,user:e,vote:t,question:n}}(e,t,n)),o(function(e,t,n){return{type:I,user:e,vote:t,question:n}}(e,t,n))}var re=Object(p.b)((function(e){return{users:e.users,questions:e.questions,auth_user:e.auth_user}}))((function(e){var t=e.auth_user,n=e.users,r=e.questions,i=Object(o.useState)(!1),s=Object(X.a)(i,2),a=s[0],c=s[1];if(!Y(t))return Object(w.jsx)("div",{children:" Please log in!"});var u=null;if(null!==r){var j=null;j=a?Object.fromEntries(Object.entries(r).filter((function(e){var n=Object(X.a)(e,2),o=(n[0],n[1]);return o.optionOne.votes.includes(t.id)||o.optionTwo.votes.includes(t.id)}))):Object.fromEntries(Object.entries(r).filter((function(e){var n=Object(X.a)(e,2),o=(n[0],n[1]);return!o.optionOne.votes.includes(t.id)&&!o.optionTwo.votes.includes(t.id)})));var d=Object.entries(j).sort(ne).map((function(e){var o=Object(X.a)(e,2),r=o[0];o[1];return Object(w.jsx)(K,{users:n,question:j[r],user:t,voteCallback:oe},r)}));u=Object(w.jsxs)("div",{children:[Object(w.jsxs)("h1",{children:["Questions ",a?"answered":"unanswered",":"]}),Object(w.jsxs)(Z.a,{children:[Object(w.jsx)(te.a,{children:Object(w.jsxs)(G.a,{children:[Object(w.jsx)($.a,{children:"Question Id"}),Object(w.jsx)($.a,{children:"Pic. of question creator."}),Object(w.jsx)($.a,{children:"Option One"}),Object(w.jsx)($.a,{children:"Option Two"}),Object(w.jsx)($.a,{children:"Nb of people Voted on user Option:"}),Object(w.jsx)($.a,{children:"Percentage of people Voted on user Option:"})]})}),Object(w.jsx)(ee.a,{children:d})]})]})}return Object(w.jsxs)("div",{children:["Show answered ?"," ",Object(w.jsx)("input",{type:"checkbox",onClick:function(){return c(!a)}}),u]})}));function ie(e,t){var n=Object(X.a)(e,2),o=(n[0],n[1]),r=Object(X.a)(t,2),i=(r[0],r[1]);return Object.keys(i.answers).length+Object.keys(i.questions).length-(Object.keys(o.answers).length+Object.keys(o.questions).length)}var se=Object(p.b)((function(e){var t=e.users;return{auth_user:e.auth_user,users:t}}))((function(e){var t=e.auth_user,n=e.users;if(null===t)return Object(w.jsx)("div",{children:" Please log in!"});var o=Object.entries(n).sort(ie).map((function(e){var t=Object(X.a)(e,2),n=t[0],o=t[1];return Object(w.jsxs)(G.a,{children:[Object(w.jsx)($.a,{children:o.name}),Object(w.jsx)($.a,{children:Object(w.jsx)("img",{src:o.avatarURL,width:"100",height:"100",alt:o.name})}),Object(w.jsx)($.a,{children:Object.keys(o.questions).length}),Object(w.jsx)($.a,{children:Object.keys(o.answers).length})]},n)}));return Object(w.jsx)("div",{children:Object(w.jsxs)(Z.a,{children:[Object(w.jsx)(te.a,{children:Object(w.jsxs)(G.a,{children:[Object(w.jsx)($.a,{children:"User name"}),Object(w.jsx)($.a,{children:"User Picture"}),Object(w.jsx)($.a,{children:"Nb of questions asked"}),Object(w.jsx)($.a,{children:"Nb of questions answered"})]})}),Object(w.jsx)(ee.a,{children:o})]})})}));function ae(){var e=Object(b.g)();return Object(w.jsx)("div",{children:Object(w.jsxs)("h3",{children:["404 - page ",Object(w.jsxs)("code",{children:[e.pathname," not found!"]})]})})}var ce=Object(p.b)((function(e){return{users:e.users,questions:e.questions,auth_user:e.auth_user}}))((function(e){var t=e.auth_user,n=e.users,o=e.questions,r=Object(b.h)().questionid;if(!Y(t))return Object(w.jsx)("div",{children:" Please log in!"});var i=o[r];return null===i||void 0===i?Object(w.jsx)(ae,{}):Object(w.jsxs)(Z.a,{children:[Object(w.jsx)(te.a,{children:Object(w.jsxs)(G.a,{children:[Object(w.jsx)($.a,{children:"Question Id"}),Object(w.jsx)($.a,{children:"Pic. of question creator."}),Object(w.jsx)($.a,{children:"Option One"}),Object(w.jsx)($.a,{children:"Option Two"}),Object(w.jsx)($.a,{children:"Nb of people Voted on user Option:"}),Object(w.jsx)($.a,{children:"Percentage of people Voted on user Option:"})]})}),Object(w.jsx)(ee.a,{children:Object(w.jsx)(K,{users:n,question:i,user:t,voteCallback:oe})})]})}));function ue(){return je.apply(this,arguments)}function je(){return(je=Object(h.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:return t=e.sent,e.next=5,P();case 5:n=e.sent,this.props.dispatch(W(t,n));case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var de=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var o;return Object(u.a)(this,n),(o=t.call(this,e)).state={path_no_login:null},o}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;ue.call(this);var t=this.props.history.location.pathname;"/login"===t||"/logout"===t||Y(this.props.auth_user)||this.setState({path_no_login:t}),this.unlisten=this.props.history.listen((function(t,n){var o=t.pathname;"/login"===o||"/logout"===o||Y(e.props.auth_user)||e.setState({path_no_login:o})}))}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"render",value:function(){var e=this;return!0===this.props.loading?Object(w.jsx)("h3",{children:"Loading"}):Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)(q,{}),Object(w.jsx)("div",{className:"spacer-header-body"}),Object(w.jsxs)(b.c,{children:[Object(w.jsx)(b.a,{path:"/add",render:function(){return Object(w.jsx)(J,{})}}),Object(w.jsx)(b.a,{path:"/leaderboard",render:function(){return Object(w.jsx)(se,{})}}),Object(w.jsx)(b.a,{path:"/logout",render:function(){return Object(w.jsx)("div",{children:" Logged-out. Please log-in."})}}),Object(w.jsx)(b.a,{path:"/login",render:function(){return Object(w.jsx)(H,{path_no_login:e.state.path_no_login})}}),Object(w.jsx)(b.a,{path:"/questions/:questionid",render:function(){return Object(w.jsx)(ce,{})}}),Object(w.jsx)(b.a,{exact:!0,path:"/",render:function(){return Object(w.jsx)(re,{})}}),Object(w.jsx)(b.a,{path:"*",children:Object(w.jsx)(ae,{})})]})]})}}]),n}(r.a.Component);var le=Object(b.i)(Object(p.b)((function(e){return e.users,{loading:e.loading,auth_user:e.auth_user}}))(de)),he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,103)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),o(e),r(e),i(e),s(e)}))},be=n(27);var pe=Object(be.d)(Object(be.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return t.users;case I:var n=Object(E.a)({},e);return 1===t.vote&&(n[t.user.id].answers=Object.assign(n[t.user.id].answers,Object(C.a)({},t.question.id,"optionOne"))),2===t.vote&&(n[t.user.id].answers=Object.assign(n[t.user.id].answers,Object(C.a)({},t.question.id,"optionTwo"))),n;case D:var o=Object(E.a)({},e);return o[t.user.id].questions=o[t.user.id].questions.concat(t.question.id),o;default:return e}},loading:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return!1;default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:var n=Object(E.a)({},e);return n[t.question.id]=t.question,n;case T:var o=Object(E.a)({},e);return 1===t.vote&&(o[t.question.id].optionOne.votes=o[t.question.id].optionOne.votes.concat(t.user.id)),2===t.vote&&(o[t.question.id].optionTwo.votes=o[t.question.id].optionTwo.votes.concat(t.user.id)),o;case B:return t.questions;default:return e}},auth_user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return t.user;default:return e}}}),window.__REDUX_DEVTOOLS_EXTENSION__&&!1,Object(be.a)((function(e){return function(t){return function(n){console.group(n.type),console.log("The action: ",n);var o=t(n);return console.log("The new state: ",e.getState()),console.groupEnd(),o}}}))),Oe=n(22);s.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(p.a,{store:pe,children:Object(w.jsx)(Oe.a,{basename:"/reactnd-project-would-you-rather",children:Object(w.jsx)(le,{})})})}),document.getElementById("root")),he()}},[[70,1,2]]]);
//# sourceMappingURL=main.79a4fade.chunk.js.map